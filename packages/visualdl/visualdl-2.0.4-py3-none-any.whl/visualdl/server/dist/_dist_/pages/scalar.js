function f(){return f=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},f.apply(this,arguments)}function q(t,l){if(t==null)return{};var o=Q(t,l),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++){if(n=s[r],l.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(t,n))continue;o[n]=t[n]}}return o}function Q(t,l){if(t==null)return{};var o={},n=Object.keys(t),r,s;for(s=0;s<n.length;s++){if(r=n[s],l.indexOf(r)>=0)continue;o[r]=t[r]}return o}import W from"../components/ChartPage.js";import e,{useCallback as X,useEffect as N,useMemo as y,useState as a}from"../../web_modules/react.js";import{XAxis as $,parseSmoothing as b,sortingMethod as C}from"../resource/scalar/index.js";import{AsideSection as d}from"../components/Aside.js";import R from"../components/Checkbox.js";import z from"../components/Content.js";import B from"../components/Error.js";import c from"../components/Field.js";import G from"../components/RunAside.js";import H from"../components/ScalarPage/ScalarChart.js";import J from"../components/Select.js";import K from"../components/Slider.js";import Y from"../components/TimeModeSelect.js";import Z from"../components/Title.js";import{rem as v}from"../utils/style.js";import ee from"../../web_modules/styled-components.js";import te from"../hooks/useLocalStorage.js";import oe from"../hooks/useQuery.js";import ne from"../hooks/useTagFilter.js";import{useTranslation as re}from"../../web_modules/react-i18next.js";const le=ee.div.withConfig({displayName:"scalar__TooltipSortingDiv",componentId:"sc-1m6klyq-0"})(["margin-top:",";display:flex;align-items:center;>:last-child{margin-left:",";flex-shrink:1;flex-grow:1;}"],v(20),v(20)),se=()=>{const{t}=re(["scalar","common"]),l=oe(),[o,n]=a(!0),{runs:r,tags:s,selectedRuns:P,onChangeRuns:S,loading:E}=ne("scalar",o),[j,U]=te("scalar_smoothing"),x=y(()=>l.smoothing!=null?b(l.smoothing):b(j),[l.smoothing,j]),[i,O]=a(x);N(()=>U(String(i)),[i,U]);const[_,w]=a($.Step),[u,T]=a(C[0]),[g,k]=a(!1),[p,A]=a(!1),[h,M]=a(!1),F=y(()=>r.length?e.createElement(G,{runs:r,selectedRuns:P,onChangeRuns:S,running:o,onToggleRunning:n},e.createElement(d,null,e.createElement(c,null,e.createElement(R,{value:g,onChange:k},t("scalar:ignore-outliers"))),e.createElement(c,null,e.createElement(R,{value:h,onChange:M},t("scalar:show-most-value"))),e.createElement(le,null,e.createElement("span",null,t("scalar:tooltip-sorting")),e.createElement(J,{list:C.map(m=>({label:t(`scalar:tooltip-sorting-value.${m}`),value:m})),value:u,onChange:T}))),e.createElement(d,null,e.createElement(c,{label:t("scalar:smoothing")},e.createElement(K,{min:0,max:.99,step:.01,value:i,onChangeComplete:O})),e.createElement(c,null,e.createElement(R,{value:p,onChange:A},t("scalar:smoothed-data-only")))),e.createElement(d,null,e.createElement(c,{label:t("scalar:x-axis")},e.createElement(Y,{value:_,onChange:w})))):null,[t,g,h,p,S,o,r,P,i,u,_]),L=X(m=>{let{label:D,runs:V}=m,I=q(m,["label","runs"]);return e.createElement(H,f({runs:V,tag:D},I,{smoothing:i,xAxis:_,sortingMethod:u,outlier:g,smoothedOnly:p,showMostValue:h,running:o}))},[i,_,u,g,h,p,o]);return e.createElement(e.Fragment,null,e.createElement(Z,null,t("common:scalar")),e.createElement(z,{aside:F,loading:E},!E&&!r.length?e.createElement(B,null):e.createElement(W,{items:s,withChart:L,loading:E})))};export default se;
