function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},u.apply(this,arguments)}function R(e,n){if(e==null)return{};var r=j(e,n),t,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++){if(t=s[a],n.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,t))continue;r[t]=e[t]}}return r}function j(e,n){if(e==null)return{};var r={},t=Object.keys(e),a,s;for(s=0;s<t.length;s++){if(a=t[s],n.indexOf(a)>=0)continue;r[a]=e[a]}return r}import P from"../components/ChartPage.js";import{Modes as b,modes as C}from"../resource/histogram/index.js";import o,{useCallback as O,useMemo as U,useState as c}from"../../web_modules/react.js";import{AsideSection as v}from"../components/Aside.js";import y from"../components/Content.js";import w from"../components/Error.js";import T from"../components/Field.js";import x from"../components/HistogramPage/HistogramChart.js";import F from"../components/RadioButton.js";import k from"../components/RadioGroup.js";import A from"../components/RunAside.js";import H from"../components/Title.js";import S from"../hooks/useTagFilter.js";import{useTranslation as M}from"../../web_modules/react-i18next.js";const W=()=>{const{t:e}=M(["histogram","common"]),[n,r]=c(!0),{runs:t,tagsWithSingleRun:a,selectedRuns:s,onChangeRuns:_,loading:l}=S("histogram",n),[m,g]=c(b.Offset),p=U(()=>t.length?o.createElement(A,{runs:t,selectedRuns:s,onChangeRuns:_,running:n,onToggleRunning:r},o.createElement(v,null,o.createElement(T,{label:e("histogram:mode")},o.createElement(k,{value:m,onChange:g},C.map(i=>o.createElement(F,{key:i,value:i},e(`histogram:mode-value.${i}`))))))):null,[e,m,_,n,t,s]),f=O(i=>{let{label:d,run:h}=i,E=R(i,["label","run"]);return o.createElement(x,u({run:h,tag:d},E,{mode:m,running:n}))},[n,m]);return o.createElement(o.Fragment,null,o.createElement(H,null,e("common:histogram")),o.createElement(y,{aside:p,loading:l},!l&&!t.length?o.createElement(w,null):o.createElement(P,{items:a,withChart:f,loading:l})))};export default W;
