import{format as h}from"../../../web_modules/d3-format.js";import{formatTime as v}from"../../utils/index.js";import{xAxisMap as r}from"./index.js";const n=h(".5");export const options={legend:{data:[]},tooltip:{position:["10%","100%"]}},chartData=({data:s,ranges:d,runs:t,xAxis:l,smoothedOnly:i})=>s.map((e,o)=>{const a=t[o].label,x=t[o].colors[0],c=t[o].colors[1],f=[{name:a,z:t.length+o,itemStyle:{color:x},lineStyle:{color:x},data:e,encode:{x:[r[l]],y:[3]}}];if(!i){const m=d[o],p=e.find(b=>b[2]===(m==null?void 0:m.min)),u=e.find(b=>b[2]===(m==null?void 0:m.max));f.push({name:a,z:o,itemStyle:{color:c},lineStyle:{color:c},data:e,encode:{x:[r[l]],y:[2]},markPoint:{symbol:"circle",symbolSize:6,itemStyle:{color:"#fff",borderColor:c,borderWidth:1},label:{show:!1},data:[...p?[{coord:[p[r[l]],p[2]]}]:[],...u?[{coord:[u[r[l]],u[2]]}]:[]]}})}return f}).flat(),tooltip=(s,d,t)=>({columns:[{label:t.t("scalar:smoothed"),width:"5em"},{label:t.t("scalar:value"),width:"4.285714286em"},{label:t.t("common:time-mode.step"),width:`${Math.max(d*.571428571,2.857142857)}em`},{label:t.t("scalar:min"),width:"4.285714286em"},{label:t.t("scalar:max"),width:"4.285714286em"},{label:t.t("common:time-mode.wall"),width:"10.714285714em"},{label:t.t("common:time-mode.relative"),width:"4.285714286em"}],data:s.map(({min:l,max:i,item:e})=>{var o,a;return[n((o=e[3])!==null&&o!==void 0?o:Number.NaN),n((a=e[2])!==null&&a!==void 0?a:Number.NaN),e[1],n(l!=null?l:Number.NaN),n(i!=null?i:Number.NaN),v(e[0],t.language),Math.floor(e[4]*60*60)+"s"]})});
