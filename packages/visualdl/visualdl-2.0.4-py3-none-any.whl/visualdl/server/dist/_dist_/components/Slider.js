import m,{useCallback as d,useState as v}from"../../web_modules/react.js";import{height as f,padding as I}from"./Input.js";import{rem as g,size as R,transitionProps as x}from"../utils/style.js";import y from"../../web_modules/bignumberjs.js";import k from"./RangeSlider.js";import p from"../../web_modules/styled-components.js";const E=p.div.withConfig({displayName:"Slider__Wrapper",componentId:"sc-1jkwmza-0"})(["display:flex;align-items:center;"]),V=p.input.withConfig({displayName:"Slider__Input",componentId:"sc-1jkwmza-1"})(["",";line-height:",";display:inline-block;outline:none;padding:",";"," border:none;border-bottom:1px solid var(--border-color);text-align:center;background-color:transparent;color:var(--text-color);caret-color:var(--text-color);&:hover,&:focus{border-bottom-color:var(--border-focused-color);}"],R(f,g(52)),f,I,x(["border-color","color","caret-color"])),P=p(k).withConfig({displayName:"Slider__FullWidthRangeSlider",componentId:"sc-1jkwmza-2"})(["flex-grow:1;margin-right:",";"],g(20)),U=({onChange:r,onChangeComplete:t,value:w,min:s,max:c,step:n})=>{const l=d(e=>new y(e).dividedBy(n).integerValue(y.ROUND_HALF_UP).multipliedBy(n).toNumber(),[n]),[i,_]=v(l(w)),[N,u]=v(i+""),S=d(e=>{const o=l(e);u(o+""),_(o),r==null||r(o)},[l,r]),j=d(e=>{u(e);const o=Number.parseFloat(e);if(o<s||o>c||Number.isNaN(o))return;const a=l(o);_(a),r==null||r(a),t==null||t(a)},[r,t,s,c,l]),b=d(()=>{u(i+"")},[i]);return m.createElement(E,null,m.createElement(P,{min:s,max:c,step:n,value:i,onChange:S,onChangeComplete:()=>t==null?void 0:t(i)}),m.createElement(V,{type:"text",value:N,onChange:e=>j(e.currentTarget.value),onBlur:b,onKeyDown:e=>e.key==="Enter"&&b()}))};export default U;
