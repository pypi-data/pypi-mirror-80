import i,{useEffect as d,useState as p}from"../../../web_modules/react.js";import{ellipsis as c,size as f,transitionProps as _}from"../../utils/style.js";import b from"../Field.js";import g from"../RangeSlider.js";import{TimeType as o}from"../../resource/pr-curve/index.js";import{format as S}from"../../../web_modules/d3-format.js";import{formatTime as u}from"../../utils/index.js";import m from"../../../web_modules/styled-components.js";import{useTranslation as v}from"../../../web_modules/react-i18next.js";const x=S(".2f"),R=m.div.withConfig({displayName:"StepSlider__TimeDisplay",componentId:"sc-1fl78bd-0"})(["color:var(--text-lighter-color);font-size:0.857142857em;padding-left:1.666666667em;margin-bottom:0.416666667em;",""],_("color")),y=m.span.withConfig({displayName:"StepSlider__Label",componentId:"sc-1fl78bd-1"})(["display:inline-block;padding-left:1.428571429em;position:relative;"," &::before{content:'';display:block;"," background-color:",";border-radius:50%;position:absolute;left:0;top:50%;transform:translateY(-50%);}"],c(),f("0.857142857em","0.857142857em"),t=>t.color),h=m(g).withConfig({displayName:"StepSlider__FullWidthRangeSlider",componentId:"sc-1fl78bd-2"})(["width:100%;"]),r={[o.WallTime]:"wallTimes",[o.Relative]:"relatives",[o.Step]:"steps"},j={[o.WallTime]:(t,{i18n:e})=>u(t,e.language),[o.Relative]:t=>`${x(t)} ms`,[o.Step]:(t,{t:e})=>`${e("common:time-mode.step")} ${t}`},w=({onChange:t,run:e,type:s})=>{const n=v("common"),[l,a]=p(e.index);return d(()=>a(e.index),[e.index]),i.createElement(b,{label:i.createElement(y,{color:e.colors[0],title:e.label},e.label)},i.createElement(R,null,e[r[s]][l]==null?"...":j[s](e[r[s]][l],n)),i.createElement(h,{min:0,max:e.steps.length?e.steps.length-1:0,step:1,value:l,onChange:a,onChangeComplete:()=>t==null?void 0:t(l)}))};export default w;
