{% load static %}
{% load tz %}
<!DOCTYPE html>
<html lang="en">
{% block header %}
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- to suppress browserconfig.xml NOT FOUND -->
    <meta name="msapplication-config" content="none"/>

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>{{ project_name }}</title>

    <link rel="icon" href="{% static 'edc_base/icons/favicon.ico' %}">    
    <link rel="shortcut icon" href="{% static 'edc_base/icons/favicon.ico' %}" type="image/x-icon" />
    <link rel="apple-touch-icon" href="{% static 'edc_base/icons/apple-touch-icon.png' %}" />
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'edc_base/icons/apple-touch-icon-57x57.png' %}" />
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'edc_base/icons/apple-touch-icon-72x72.png' %}" />
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'edc_base/icons/apple-touch-icon-76x76.png' %}" />
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'edc_base/icons/apple-touch-icon-114x114.png' %}" />
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'edc_base/icons/apple-touch-icon-120x120.png' %}" />
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'edc_base/icons/apple-touch-icon-144x144.png' %}" />
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'edc_base/icons/apple-touch-icon-152x152.png' %}" />
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'edc_base/icons/apple-touch-icon-180x180.png' %}" />


    <link rel="stylesheet" type="text/css" href="{% static 'edc_base/css/flaticon/flaticon.css' %}"> 
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'edc_base/css/bootstrap.min.css' %}" >
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">    
    <link rel="stylesheet" type="text/css" href="{% static 'edc_base/css/sticky-footer-navbar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'edc_base/datetimepicker/css/datetimepicker.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'edc_base/css/edc_base.css' %}">

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/js/jquery.min.js' %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/js/bootstrap.min.js' %}"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/js/ie10-viewport-bug-workaround.js' %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/js/jquery.form.js' %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/js/js.cookies.js' %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/js/moment.min.js' %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/js/edc-base.js' %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static 'edc_base/datetimepicker/js/bootstrap-datetimepicker.min.js' %}"></script>

    <!-- don't forget to run python manage.py collectstatic_js_reverse. See https://github.com/ierror/django-js-reverse -->
    <!--
        <script type="text/javascript" charset="utf8" src="{% static 'django_js_reverse/js/reverse.js' %}"></script>
    -->


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script type="text/javascript" charset="utf8" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script type="text/javascript" charset="utf8" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- begin extra-css -->
    {% block extra-css %}{% endblock extra-css %}
    <!-- end extra-css -->
    
{% block scripts %}

    <script>
    $(document).ready(function(){
        $('[data-toggle="tooltip"]').tooltip();
        $('[data-toggle="popover"]').popover({html:true, trigger:'focus'}); 
        $("#success-alert").fadeTo(1000, 500).slideUp(500, function(){
            $("#success-alert").slideUp(500);
        }); 
    });
    </script>    

   {% if sentry_dsn %}
      <script type="text/javascript">
          Raven.config('{sentry_dsn}').install();
        window.onerror = Raven.process;
      </script>
     {% endif %}

{% endblock scripts %}

<!-- begin extra-scripts by app ================================================== -->
{% block extra-scripts %}{% endblock extra-scripts %}
<!-- end extra-scripts by app ================================================== -->


<!-- begin extra-styles -->
{% block extra-styles %}{% endblock extra-styles %}
<!-- end extra-styles -->


{% endblock header %}
</head>
<body class="edc-body" >

{% block topbar %}

<!-- topbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">

      <div class="container-fluid">

        <div class="navbar-header">

          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          {% block topbar_title %}
            <span class="navbar-brand hidden-sm">{% if live_system and not DEBUG %}<span class="label label-success">Live</span>{% else %}<span class="label label-danger">Test</span>{% endif %}&nbsp;&nbsp;{{ protocol_name |default:project_name }} {{ request.site.name|title }}</span>
          {% endblock topbar_title %}

        </div>

        <!-- begin class navbar -->
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            {% block topbar_navbar_apps %}
                {% for rendered_item in navbar.rendered_items %}
                    {{ rendered_item }}
                {% endfor %}

                {% for rendered_item in default_navbar.rendered_items %}
                    {{ rendered_item }}
                {% endfor %}
            <li id="li-topbar-user-profile"><a title="user profile" href="{% url 'admin:auth_user_change' user.id %}">{{ user.username }}</a></li>
            {% endblock topbar_navbar_apps %}
          </ul>
        </div> <!-- end class navbar -->


      </div>
    </nav>
    <!-- end topbar -->
{% endblock topbar %}
<div class="container">
<div class="row">
{% block alert %}
    {% include "edc_dashboard/bootstrap3/alert_messages.html" %}
{% endblock alert %}
</div>
<div class="row">
{% block main %}{% endblock main %}
</div>
</div>

{% block modals %}{% endblock modals %}

{% block bottombar %}{% endblock bottombar %}

{% block footer %} 
<footer class="footer">

  <div class="container">

    {% block footer_extra_items %}
    {% endblock footer_extra_items %}
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fas fa-copyright"></span> Licensed for use under <A href="https://www.gnu.org/licenses/gpl-3.0.en.html">GPL 3.0</A></p></div>
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fas fa-leaf"></span> Revision: {{ revision }}</p></div>
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fas fa-clock"></span> {% now "SHORT_DATETIME_FORMAT" %} {% get_current_timezone as TIME_ZONE %} {{ TIME_ZONE }}</p></div>
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fas fa-exclamation"></span> {{ disclaimer }}</p></div>
  </div>
</footer>
{% endblock footer %}

</body>

{% block extra-scripts-bottom %}
{% endblock %}

</html>