(this["webpackJsonptina-talk-admin"]=this["webpackJsonptina-talk-admin"]||[]).push([[12],{1019:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(934),c=a.n(l),o=a(935),i=a(20),s=a(120),u=a(912),d=a(1007),m=a(1008),p=a(1009),f=a(925),b=a(1021),g=[{id:"model",numeric:!0,disablePadding:!0,label:"Model\uba85"},{id:"trained_at",numeric:!0,disabledPadding:!0,label:"Model \ud559\uc2b5 \uc77c\uc2dc"},{id:"state",numeric:!0,disabledPadding:!0,label:"Model \uc0c1\ud0dc"}],h=function(e){console.log("ModelTableHead",e);var t=e.onSelectAllClick,a=e.order,n=e.orderBy,l=e.numSelected,c=e.rowCount,o=e.onRequestSort;return r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{padding:"checkbox"},r.a.createElement(f.a,{indeterminate:l>0&&l<c,checked:l===c,onChange:t,inputProps:{"aria-label":"\ubaa8\ub378 \uc804\uccb4 \uc120\ud0dd"}})),g.map(function(e){return r.a.createElement(p.a,{key:e.id,align:e.numeric?"center":"right",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(b.a,{active:n===e.id,direction:a,onClick:(t=e.id,function(e){o(e,t)})},e.label));var t})))},v=a(10),E=a(968),k=a(19),O=a(916),j=a(908),x=a(839),w=a(3),y=a(932),S=a.n(y),C=a(958),M=a.n(C),N=a(942),_=a.n(N),P=Object(E.a)(function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColot:Object(k.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.primary.dark},spacer:{flex:"1 1 100%"},actions:{flex:"0 0 auto",justifyContent:"flex-end",color:e.palette.text.primary},title:{flex:"0 0 auto"}}}),D=function(e){var t=P(),a=e.numSelected,n=e.onRefresh,l=e.onActive,c=e.onRemove;e.onCreate;return r.a.createElement(O.a,{className:Object(w.a)(t.root,Object(v.a)({},t.highlight,a>0))},r.a.createElement("div",{className:t.title},a>0?r.a.createElement(s.a,{color:"inherit",variant:"subtitle1"},a," \uac1c \ubaa8\ub378\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"):r.a.createElement(s.a,{variant:"h6",id:"tableTitle"},"\ud559\uc2b5 Model \ub9ac\uc2a4\ud2b8")),r.a.createElement("div",{className:t.spacer}),r.a.createElement("div",{className:t.actions},a>0?1===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{title:"\ubaa8\ub378 \ud65c\uc131\ud654"},r.a.createElement(x.a,{"aria-label":"Active Model",onClick:l},r.a.createElement(M.a,null))),r.a.createElement(j.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},r.a.createElement(x.a,{"aria-label":"Delete Model",onClick:c},r.a.createElement(S.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},r.a.createElement(x.a,{"aria-label":"Delete Model",onClick:c},r.a.createElement(S.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{title:"\uc7ac\uc870\ud68c"},r.a.createElement(x.a,{"aria-label":"Refresh Model",onClick:n},r.a.createElement(_.a,null))))))};var B=a(987),z=a(969),I=a(970),T=a(943),H=a.n(T),R=a(972),A=a.n(R),F=a(914),L=Object(E.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},search:{border:"2px solid #039BE5"},btn:{position:"relative",left:"92%"},subTitle:{color:"#039BE5"}}});function W(e){var t=e.trainModelDialogOpen,a=L();return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.search},r.a.createElement(B.a,null,r.a.createElement(z.a,{"aria-controls":"panel1d-content",id:"panel1d-header",expandIcon:r.a.createElement(H.a,null)},r.a.createElement(s.a,{variant:"h6"},"\ubaa8\ub378 \ud559\uc2b5"),r.a.createElement("div",{className:a.subTitle},r.a.createElement(s.a,{variant:"subtitle1"}," \xa0\xa0\xa0\xa0\ud074\ub9ad\uc2dc \uc601\uc5ed\uc744 \ud3bc\uce58\uae30 / \uc811\uae30 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."))),r.a.createElement(I.a,null,r.a.createElement("div",{className:a.btn},r.a.createElement(F.a,{variant:"contained",color:"secondary",className:a.button,startIcon:r.a.createElement(A.a,null),onClick:function(){return t()}},"\ubaa8\ub378 \ud559\uc2b5"))))))}var q=a(439),J=a(7),X=a(38),Y=a.n(X),G="/api/projects";function K(e,t){var a=Object.keys(t).map(function(e){return e+"="+t[e]}).join("&");return Y.a.get(G+"/"+e+"/models?"+a)}function Q(e,t){return Y.a.put(G+"/"+e+"/models/"+t+"/tags/production")}function U(e,t){return Y.a.delete(G+"/"+e+"/models/"+t)}var V=a(15),Z=a(9),$=a(33),ee=a(154),te=a(1010),ae=a(1011),ne=a(1022),re=a(902),le=a(903),ce=a(25),oe=a(46),ie={selectedModel:{}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ue=Object(oe.d)({modelTableApp:se}),de=a(173),me=Object(Z.a)(function(e){return{root:{color:"#0ef76b"}}})(p.a),pe=Object(E.a)(function(e){return{progress:{width:"80%",margin:"0 12px 0 30px","& > * + *":{marginTop:e.spacing(2)}},root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},production:{backgroundColor:"#039BE5 !important"}}});function fe(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function be(e){var t=new Date(1e3*e),a=t.getFullYear(),n=1+t.getMonth();n=n>=10?n:"0"+n;var r=t.getDate(),l=a+"-"+n+"-"+(r=r>=10?r:"0"+r),c=t.getHours(),o="0"+t.getMinutes(),i="0"+t.getSeconds(),s=c+":"+o.substr(-2)+":"+i.substr(-2);return console.log(l),console.log(s),l+" "+s}var ge=Object(de.a)("ModelTableApp",ue)(function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),g=(b[0],b[1]),v=Object(n.useState)("asc"),E=Object(i.a)(v,2),k=E[0],O=E[1],j=Object(n.useState)("model"),x=Object(i.a)(j,2),w=x[0],y=x[1],S=Object(n.useState)([]),C=Object(i.a)(S,2),M=C[0],N=C[1],_=Object(n.useState)(0),P=Object(i.a)(_,2),B=P[0],z=P[1],I=Object(n.useState)(!0),T=Object(i.a)(I,2),H=T[0],R=T[1],A=Object(n.useState)(10),F=Object(i.a)(A,2),L=F[0],X=(F[1],Object(n.useState)()),Z=Object(i.a)(X,2),oe=Z[0],ie=(Z[1],Object(n.useState)(0)),se=Object(i.a)(ie,2),ue=se[0],de=(se[1],Object(n.useState)(!1)),ge=Object(i.a)(de,2),he=ge[0],ve=ge[1],Ee=r.a.useState(!1),ke=Object(i.a)(Ee,2),Oe=ke[0],je=ke[1],xe=Object(n.useState)(""),we=Object(i.a)(xe,2),ye=we[0],Se=we[1],Ce=(Object($.a)(),Object(n.useState)({disableDiv:!1})),Me=Object(i.a)(Ce,2),Ne=Me[0];Me[1];var _e={disabled:Ne.disableDiv?"false":"true"},Pe=Object(J.b)();Object(n.useEffect)(function(){(function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,K("default",{limit:""===oe||null===oe?null:oe,offset:""===ue||null===ue?null:ue});case 4:t=e.sent,console.log(t),l(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:N([]),g(!1),"trained_at"===w&&"desc"===k,O("desc"),y("trained_at");case 17:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}})()()},[B,L]);var De=function(){je(!1)},Be=function(){var e=Object(o.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ve({showLoading:!1}),console.log("refreshList",t),g(!0),e.prev=3,e.next=6,K("default",{limit:""===oe||null===oe?null:oe,offset:""===ue||null===ue?null:ue});case 6:a=e.sent,console.log(a),be(a.data[0].trained_at),l(a.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:N([]),g(!1),"trained_at"===w&&"desc"===k,O("desc"),y("trained_at");case 21:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}();function ze(e,t){console.log("handleClick",e,t);var a=M.indexOf(t),n=[];-1===a?n=n.concat(M,t):0===a?n=n.concat(M.slice(1)):a===M.length-1?n=n.concat(M.slice(0,-1)):a>0&&(n=n.concat(M.slice(0,a),M.slice(a+1))),N(n)}var Ie=L-Math.min(L,a.length-B*L),Te=pe(),He=function(){Pe(V.a()),We()},Re=function(){Pe(V.a()),Ae()},Ae=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("default",ye);case 2:t=e.sent,console.log(t),Be(null),Pe(V.l({message:"\uc2e0\uaddc \ubaa8\ub378\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("active model process"),console.log("selected model",M),!(M.length>0)){e.next=14;break}if(!(M.length>1)){e.next=8;break}Pe(V.l({message:"\ud558\ub098\uc758 \ubaa8\ub378\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694. (\ubcf5\uc218 \ubd88\uac00)",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),Be(null),e.next=14;break;case 8:return e.next=10,Q("default",M[0]);case 10:t=e.sent,console.log(t),Pe(V.l({message:"\uc120\ud0dd\ud55c \ubaa8\ub378\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),Be(null);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("remove model process"),console.log("selected model",M),!(M.length>0)){e.next=9;break}return e.next=5,M.map(function(e){U("default",e),console.log(t)});case 5:t=e.sent,N([]),Be(null),Pe(V.l({message:"\uc120\ud0dd\ud55c \ubaa8\ub378\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}));case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return je(!Oe),g(!0),e.prev=2,qe(),e.next=6,a="default",Y.a.post(G+"/"+a+"/models/jobs");case 6:t=e.sent,console.log(t),Se(t.data.model),Pe(V.h({title:"\ubaa8\ub378 \ud559\uc2b5 \uc644\ub8cc",content:"\uc0c8\ub85c\uc6b4 \ubaa8\ub378\uc774 \ud559\uc2b5 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uc6b4 \ubaa8\ub378\ub85c \ud65c\uc131\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:Re,confirmBtn_name:"\ud65c\uc131\ud654",cancelBtn_name:"\ub2eb\uae30"})),De(),g(!1),Be(null),e.next=23;break;case 15:return e.prev=15,e.t0=e.catch(2),console.log(e.t0),Pe(V.l({message:"\ubaa8\ub378 \ud559\uc2b5\uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758 \ud558\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),De(),g(!1),Be(null),e.abrupt("return",!1);case 23:case"end":return e.stop()}var a},e,null,[[2,15]])}));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=he.showLoading;ve({showLoading:!e})},Je=null;return he.showLoading&&(Je=r.a.createElement("div",{className:"flex flex-1 flex-col items-center justify-center"},r.a.createElement(s.a,{className:"text-20 mb-16",color:"textSecondary"},"\ubaa8\ub378 \ud559\uc2b5 \uc9c4\ud589 \uc911..."),r.a.createElement(u.a,{className:"w-xs",color:"secondary"}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",style:_e},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",{className:"kt-section__expandPanel"},r.a.createElement(W,{trainModelDialogOpen:function(){Pe(V.h({title:"\uc2e0\uaddc \ubaa8\ub378 \ud559\uc2b5",content:"\ubaa8\ub378 \ud559\uc2b5\uc744 \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? ( \ubaa8\ub378 \ud559\uc2b5\uc774 \uc9c4\ud589\ub41c \ud6c4 \ucde8\uc18c\uac00 \ubd88\uac00\ud569\ub2c8\ub2e4. )",callback:He,confirmBtn_name:"\ud559\uc2b5 \uc9c4\ud589",cancelBtn_name:"\ub2eb\uae30"}))}}))),r.a.createElement(q.a,{className:Te.backdrop,open:Oe},r.a.createElement("div",null,Je)),r.a.createElement("div",{className:"kt-section__content"},r.a.createElement(ee.a,{className:Te.root},r.a.createElement(D,{numSelected:M.length,onRefresh:Be,onActive:Fe,onRemove:Le}),r.a.createElement("div",{className:Te.tableWrapper},r.a.createElement(te.a,{className:Te.table,"aria-labelledby":"tableTitle",size:H?"small":"medium"},r.a.createElement(h,{numSelected:M.length,order:k,orderBy:w,onSelectAllClick:function(e){if(e.target.checked){var t=a.map(function(e){return e.model});N(t)}else N([])},onRequestSort:function(e,t){O(w===t&&"desc"===k?"asc":"desc"),y(t)},rowCount:a.length}),r.a.createElement(ae.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(a,function(e,t){return"desc"===e?function(e,a){return fe(e,a,t)}:function(e,a){return-fe(e,a,t)}}(k,w)).slice(B*L,B*L+L).map(function(e,t){console.log("row",e),console.log("row",e.model),console.log("\ud0dc\uadf8!!!! ----- ",e.tags);var a,n=(a=e.model,-1!==M.indexOf(a)),l="mnodel-table-checkbox-".concat(t);return"production"===e.tags[0]?r.a.createElement(ce.c,{animation:"transition.fadeIn",duration:400,delay:100,key:e.model},r.a.createElement(m.a,{hover:!0,onClick:function(t){return ze(t,e.model)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.model,selected:n},r.a.createElement(me,{padding:"checkbox"},r.a.createElement(f.a,{checked:n,inputProps:{"aria-labelledby":l}})),r.a.createElement(me,{align:"center",component:"th",id:l,scope:"row",padding:"none"},e.model),r.a.createElement(me,{align:"center"},be(e.trained_at)),r.a.createElement(me,{align:"center"},e.tags))):r.a.createElement(ce.c,{animation:"transition.fadeIn",duration:400,delay:100,key:e.model},r.a.createElement(m.a,{hover:!0,onClick:function(t){return ze(t,e.model)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.model,selected:n},r.a.createElement(p.a,{padding:"checkbox"},r.a.createElement(f.a,{checked:n,inputProps:{"aria-labelledby":l}})),r.a.createElement(p.a,{align:"center",component:"th",id:l,scope:"row",padding:"none"},e.model),r.a.createElement(p.a,{align:"center"},be(e.trained_at)),r.a.createElement(p.a,{align:"center"},e.tags)))}),Ie>0&&r.a.createElement(m.a,{style:{height:49*Ie}},r.a.createElement(p.a,{colSpan:4}))))),r.a.createElement(ne.a,{rowsPerPageOptions:[10,50,100,300,500],component:"div",count:a.length,rowsPerPage:L,page:B,backIconButtonProps:{"aria-label":"\uc774\uc804 \ud398\uc774\uc9c0"},nextIconButtonProps:{"aria-label":"\ub2e4\uc74c \ud398\uc774\uc9c0"},onChangePage:function(e,t){z(t)}})),r.a.createElement(re.a,{control:r.a.createElement(le.a,{checked:H,onChange:function(e){R(e.target.checked)}}),label:"\uac04\uaca9 \uc904\uc774\uae30"})))))});t.default=function(){return r.a.createElement(ge,null)}},958:function(e,t,a){"use strict";var n=a(228);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(444)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M15.5 5H11l5 7-5 7h4.5l5-7z"}),r.default.createElement("path",{d:"M8.5 5H4l5 7-5 7h4.5l5-7z"})),"DoubleArrow");t.default=l},972:function(e,t,a){"use strict";var n=a(228);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(444)).default)(r.default.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}),"DirectionsRun");t.default=l}}]);